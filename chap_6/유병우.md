# 6. 전역 상태 관리 라이브러리 소개

전역 상태 관리를 3가지의 문제로 최적화를 리렌더링을 최적화할 수 있다고 한다.

- 선택자 함수 사용
- 속성 접근 감지
- 아톰 사용

## 선택자 함수 사용

```
const Component = () => {
  const value = useSelector((state) => state.value);
  return <div>{value}</div>;
};
```

이런식으로 useSelector를 사용하여 상태를 읽을 수 있다. 이때, 상태의 일부만 읽어오도록 선택자 함수를 작성할 수 있다. 이렇게 하면 상태의 변경이 컴포넌트와 관련이 없는 경우에도 리렌더링을 방지할 수 있다.

## 속성 접근 감지

```
const Component = () => {
  const isSmall = useTrackedState().a < 10;
  return <div>{isSmall ? '작음' : '큼'}</div>;
};
```

이런식으로 속성 접근을 감지하여 사용된 속성 값이 변경될 때만 리렌더링을 발생시킬 수 있다. 이 방법은 선택자 함수보다 더 효율적일 수 있지만, 파생 값에 대해서는 선택자 함수가 더 적합할 수 있다.

## 아톰 사용

```import { atom, useAtom } from 'jotai';
const countAtom = atom(0);
const Component = () => {
  const [count, setCount] = useAtom(countAtom);
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
};
```

아톰은 상태의 단위로, 각각의 아톰은 독립적으로 상태를 관리한다. 아톰을 사용하면 상태의 변경이 해당 아톰에만 영향을 미치므로, 리렌더링을 최소화할 수 있다. 아톰을 사용하면 상태를 더 세분화하여 관리할 수 있으며, 각 아톰은 독립적으로 업데이트될 수 있다. 이를 통해 전체 애플리케이션의 성능을 향상시킬 수 있다.
